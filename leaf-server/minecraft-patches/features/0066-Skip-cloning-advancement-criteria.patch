From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Martijn Muijsers <martijnmuijsers@live.nl>
Date: Wed, 30 Nov 2022 16:54:28 +0100
Subject: [PATCH] Skip cloning advancement criteria

License: GPL-3.0 (https://www.gnu.org/licenses/gpl-3.0.html)
Gale - https://galemc.org

This patch is based on the following patch:
"Skip cloning loot parameters" [sic]
By: etil2jz <81570777+etil2jz@users.noreply.github.com>
As part of: Mirai (https://github.com/etil2jz/Mirai)
Licensed under: GPL-3.0 (https://www.gnu.org/licenses/gpl-3.0.html)

diff --git a/net/minecraft/advancements/Advancement.java b/net/minecraft/advancements/Advancement.java
index ac6a85ddf6eb326b3fd53341a4a5db7bd00b7ce2..7f7ad8492dc848e9549d1e05f6d800ebb0788dc4 100644
--- a/net/minecraft/advancements/Advancement.java
+++ b/net/minecraft/advancements/Advancement.java
@@ -61,7 +61,7 @@ public record Advancement(
         AdvancementRequirements requirements,
         boolean sendsTelemetryEvent
     ) {
-        this(parent, display, rewards, Map.copyOf(criteria), requirements, sendsTelemetryEvent, display.map(Advancement::decorateName));
+        this(parent, display, rewards, criteria, requirements, sendsTelemetryEvent, display.map(Advancement::decorateName)); // Gale - Mirai - skip cloning advancement criteria
     }
 
     private static DataResult<Advancement> validate(Advancement advancement) {
