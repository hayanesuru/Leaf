From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Tue, 7 Nov 2017 00:01:04 -0500
Subject: [PATCH] EMC: Don't use snapshots for TileEntity::getOwner

Original license: MIT
Original project: https://github.com/starlis/empirecraft

Also see Leaf's EMC-Don-t-use-snapshots-for-acquiring-blockstate

diff --git a/net/minecraft/world/level/block/entity/BlockEntity.java b/net/minecraft/world/level/block/entity/BlockEntity.java
index a5ade8268a74738170caf519e7e45e13862bc39d..92e57b14d54a3830bc99fde6e1c231a09dcdc215 100644
--- a/net/minecraft/world/level/block/entity/BlockEntity.java
+++ b/net/minecraft/world/level/block/entity/BlockEntity.java
@@ -386,7 +386,7 @@ public abstract class BlockEntity {
 
     // CraftBukkit start - add method
     public org.bukkit.inventory.InventoryHolder getOwner() {
-        return getOwner(true);
+        return getOwner(org.dreeam.leaf.config.modules.opt.TileEntitySnapshotCreation.enabled); // Leaf - EMC - Don't use snapshots for TileEntity::getOwner
     }
 
     public org.bukkit.inventory.InventoryHolder getOwner(boolean useSnapshot) {
