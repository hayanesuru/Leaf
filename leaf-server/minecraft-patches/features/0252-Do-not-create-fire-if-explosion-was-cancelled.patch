From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Overwrite987 <artem.korolev_2003@mail.ru>
Date: Mon, 28 Jul 2025 03:35:42 +0300
Subject: [PATCH] Do not create fire if explosion was cancelled

Related to https://github.com/PaperMC/Paper/issues/12441
This patch is a similar solution as the part of https://github.com/PaperMC/Paper/pull/11840

diff --git a/net/minecraft/world/level/ServerExplosion.java b/net/minecraft/world/level/ServerExplosion.java
index c45d4646104565a98a4c9deee60ca5d799ee9cb7..28660d0876403403651ee629d6acfd1232d42562 100644
--- a/net/minecraft/world/level/ServerExplosion.java
+++ b/net/minecraft/world/level/ServerExplosion.java
@@ -674,6 +674,7 @@ public class ServerExplosion implements Explosion {
     }
 
     private void createFire(List<BlockPos> blocks) {
+        if (this.wasCanceled) return; // Leaf - Do not create fire if explosion was cancelled
         for (BlockPos blockPos : blocks) {
             if (this.level.random.nextInt(3) == 0 && this.level.getBlockState(blockPos).isAir() && this.level.getBlockState(blockPos.below()).isSolidRender()) {
                 // CraftBukkit start - Ignition by explosion
