From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: HaHaWTH <102713261+HaHaWTH@users.noreply.github.com>
Date: Tue, 9 Nov 2077 00:00:00 +0800
Subject: [PATCH] Optimize Vec3i hashing

Replaces the default hashCode calculation with a high-quality spatial hasher.
This implementation utilizes large prime coefficients and Phi mixing (for avalanche effect) to significantly reduce hash collisions,
thereby improving lookup performance and mitigating worst-case hash distribution scenarios.

diff --git a/net/minecraft/core/Vec3i.java b/net/minecraft/core/Vec3i.java
index dbf1cf2b24fe062d4abdcb9cee694301436899cf..6ca7f162be90e1521b97c94b93da9a49d3c870ea 100644
--- a/net/minecraft/core/Vec3i.java
+++ b/net/minecraft/core/Vec3i.java
@@ -48,7 +48,7 @@ public class Vec3i implements Comparable<Vec3i> {
 
     @Override
     public final int hashCode() { // Paper - Perf: Final for inline
-        return (this.getY() + this.getZ() * 31) * 31 + this.getX();
+        return org.dreeam.leaf.util.Vec3iHasher.hash(this.x, this.y, this.z); // Leaf - Optimize Vec3i hashing
     }
 
     @Override
