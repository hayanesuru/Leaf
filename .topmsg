From: hayanesuru <hayanesuru@outlook.jp>
Subject: [PATCH] async pathfinding: fix path race condition

#519 #589

Closed #604
